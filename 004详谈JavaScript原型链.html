<html>
<head>
  <title>004详谈JavaScript原型链</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/601568 (zh-CN, DDL); Windows/6.1.1 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2658"/>
<h1>004详谈JavaScript原型链</h1>

<div><span>
  <div>
<div><br/></div><div style="font-size: 16px; display:block; min-width: 100%;"> <div style="background-color:transparent;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;"><div style="font-size:16px;background-color:transparent;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-style:inherit;vertical-align:baseline;font-family:&quot;PT Serif&quot;;line-height:1.5em;color:rgb(31, 9, 9);text-align:left;"><div style="font-weight:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;"><div style="font-style:inherit;z-index:200;padding-right:2em;margin-left:auto;margin-right:auto;position:relative;margin:0px;padding:0px;border:0px;padding-left:2em;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;width:36em;"><div style="font-variant:inherit;vertical-align:baseline;font-family:inherit;margin:0px;padding:0px;border:0px;font-style:inherit;line-height:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;margin-left:-25px;margin-right:25px;position:relative;"><div style="font-stretch:inherit;position:relative;padding:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;margin:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;padding-top:4.5em;padding-bottom:9em;"><div style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><div style="font-variant:inherit;vertical-align:baseline;margin:0px;padding:0px;border:0px;font-style:inherit;font-family:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;line-height:inherit;position:relative;margin-bottom:0px;"><div style="font-weight:inherit;vertical-align:baseline;padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;margin-bottom:0px;"><div style="font-weight:inherit;vertical-align:baseline;padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;margin-bottom:0px;"><h1 style="font-stretch:inherit;text-align:left;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-family:&quot;PT Serif&quot;;font-size:35px;line-height:35px;font-weight:normal;margin-bottom:20px;margin:0px;padding:0px;"> 详谈JavaScript原型链 </h1><div style="font-style:inherit;padding-bottom:1.5em;margin:0px;height:1em;line-height:1;text-align:center;padding:0px;border:0px;position:relative;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;font-family:inherit;vertical-align:baseline;padding-top:1.5em;margin-bottom:0px;"><div style="padding:0px;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;margin:0px;opacity:0.5;position:absolute;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:0px;"><span style="font-style:inherit;font-variant:inherit;font-weight:inherit;font-size:inherit;line-height:inherit;font-family:inherit;position:absolute;left:-4em;top:50%;z-index:10;width:100%;padding-left:4em;padding-right:4em;height:0.1em;margin:0px;opacity:0.5;background:-webkit-linear-gradient(0deg, rgb(243, 242, 238) 1%, rgb(31, 9, 9) 50%, rgb(243, 242, 238) 99%);"></span></div></div></div>
		
		
			<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> 本文是学习<a href="https://www.cnblogs.com/cuc-ygh/" style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;color:rgb(6, 85, 136);text-decoration:none;" target="_blank">中传思客</a>在慕课网开的课程<a href="https://coding.imooc.com/class/evaluation/129.html#Anchor" style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;color:rgb(6, 85, 136);text-decoration:none;" target="_blank">《前端跳槽面试必备技巧》</a>的学习笔记。课程地址：<a href="https://coding.imooc.com/class/evaluation/129.html#Anchor" style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;color:rgb(6, 85, 136);text-decoration:none;" target="_blank">https://coding.imooc.com/class/evaluation/129.html#Anchor</a>。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">目录</p>
<ol style="font-size:inherit;margin:0px 0px 1.5em 1.5em;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;padding:0px;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style:decimal outside none;margin-top:-1em;list-style-type:decimal;">
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">创建对象有几种方法</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">原型、构造函数、实例、原型链</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">instanceof的原理</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">new运算符</li>
</ol>
<h2 style="font-size:30px;margin:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;padding:0px;font-family:&quot;PT Serif&quot;;text-align:left;line-height:35px;font-weight:bold;margin-top:35px;margin-bottom:15px;"> 创建对象的方法</h2>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">　　在了解原型链之前，首先先了解一下创建对象的几种方式，介绍以下三种。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171120085805899-2091686630.png" type="image/png" data-filename="1265396-20171120085805899-2091686630.png" height="225" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="306"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">代码：</p>
<div style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">&lt;script type=&quot;text/javascript&quot;&gt;
    // 第一种方式：字面量
    var o1 = {name: 'o1'}
    var o2 = new Object({name: 'o2'})
      // 第二种方式：构造函数
    var M = function (name) { this.name = name; }
    var o3 = new M('o3')
      // 第三种方式：Object.create
    var p = {name: 'p'}
    var o4 = Object.create(p)<br/><br/>console.log(o1)　　　　<br/>　　console.log(o2)<br/>　　console.log(o3)<br/>　　console.log(o4)</pre>
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">&lt;/script&gt;</pre>
</div>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">打印结果：</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171127082455972-1605397877.png" type="image/png" data-filename="1265396-20171127082455972-1605397877.png" height="424" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="358"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">对象是创建出来了，但你可能对结果很诧异，为什么不同呢？别急，慢慢来。</p>
<h3 style="font-size:30px;margin:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;padding:0px;font-family:&quot;PT Serif&quot;;text-align:left;line-height:35px;font-weight:normal;margin-top:35px;margin-bottom:15px;"> 原型及原型链</h3>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">先来一张容易让人懵逼的图</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171127082821065-1506469155.png" type="image/png" data-filename="1265396-20171127082821065-1506469155.png" height="230" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="576"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><strong style="font-weight:bold;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;">什么是原型对象？实例？构造函数？</strong></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">概念就不多说了，看代码吧</p>
<div style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">var M = function (name) { this.name = name; }
var o3 = new M('o3')</pre>
</div>
<ul style="font-stretch:inherit;margin:0px 0px 1.5em 1.5em;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style:disc outside none;list-style-type:disc;">
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;"> 实例就是对象，在本例中o3就是实例，M就是构造函数。</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">实例通过new一个构造函数生成的。</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">从上图中可以知道，实例的__protpo__指向的是原型对象。</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">实例的构造函数的prototype也是指向的原型对象。 </li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">原型对象的construor指向的是构造函数。</li>
</ul>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">再来通过下面这个图来理解一下 </p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171127085304050-907668544.png" type="image/png" data-filename="1265396-20171127085304050-907668544.png" height="333" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="534"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><strong style="font-weight:bold;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;">那什么是原型链呢？</strong></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">  简单理解就是原型组成的链，对象的__proto__它的是原型，而原型也是一个对象，也有__proto__属性，原型的__proto__又是原型的原型，就这样可以一直通过__proto__想上找，这就是原型链，当向上找找到Object的原型的时候，这条原型链就算到头了。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><strong style="font-weight:bold;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;">原型对象和实例之间有什么作用呢？</strong></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">通过一个构造函数创建出来的多个实例，如果都要添加一个方法，给每个实例去添加并不是一个明智的选择。这时就该用上原型了。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">在实例的原型上添加一个方法，这个原型的所有实例便都有了这个方法。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">接着上面的例子继续演示：</p>
<div style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">var M = function (name) { this.name = name; }
var o3 = new M('o3')<br/>var o5 = new M()</pre>
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">o3.__proto__.say=furnction(){
   console.log('hello world')
}

o3.say()
o5.say()</pre>
</div>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">打印结果</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><img src="004详谈JavaScript原型链_files/1265396-20171127091228190-1284920197.png" type="image/png" data-filename="1265396-20171127091228190-1284920197.png" height="61" style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;border-color:rgb(31, 9, 9);" width="225"/></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">按照JS引擎的分析方式，在访问一个实例的属性的时候，现在实例本身中找，如果没找到就去它的原型中找，还没找到就再往上找，直到找到。这就是原型链。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><strong style="font-weight:bold;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;">补充：</strong></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">只有函数有prototype,对象是没有的。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">但是函数也是有__proto__的，因为函数也是对象。函数的__proto__指向的是Function.prototype。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">也就是说普通函数是Function这个构造函数的一个实例。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> <img src="004详谈JavaScript原型链_files/1265396-20171127092040019-692484066.png" type="image/png" data-filename="1265396-20171127092040019-692484066.png" height="42" style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;border-color:rgb(31, 9, 9);" width="291"/></p>
<h3 style="font-size:30px;margin:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;padding:0px;font-family:&quot;PT Serif&quot;;text-align:left;line-height:35px;font-weight:normal;margin-top:35px;margin-bottom:15px;">instanceof原理</h3>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171127092153300-1935600767.png" type="image/png" data-filename="1265396-20171127092153300-1935600767.png" height="146" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="576"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">instanceof是判断实例对象的__proto__和生成该实例的构造函数的prototype是不是引用的同一个地址。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">是返回true，否返回false。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"><em style="font-weight:inherit;margin:0px;border:0px;font-family:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;vertical-align:baseline;font-style:italic;"><strong style="font-weight:bold;margin:0px;border:0px;font-style:inherit;font-variant:inherit;padding:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;">注意：</strong></em>实例的instanceof在比较的时候，与原型链上想上找的的构造函数相比都是true。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> 继续上面的代码</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171128083930940-1553013565.png" type="image/png" data-filename="1265396-20171128083930940-1553013565.png" height="185" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="518"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">那怎么判断实例是由哪个构造函数生成的呢？这时候就要用到constructor了。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">实例的原型的构造函数， obj.__proto__.constructor</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171128084439612-726400677.png" type="image/png" data-filename="1265396-20171128084439612-726400677.png" height="125" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="354"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<h3 style="font-size:30px;margin:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;padding:0px;font-family:&quot;PT Serif&quot;;text-align:left;line-height:35px;font-weight:normal;margin-top:35px;margin-bottom:15px;">new运算符</h3>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">new运算符的原理</p>
<ul style="font-size:inherit;margin:0px 0px 1.5em 1.5em;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;font-stretch:inherit;padding:0px;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style:disc outside none;margin-top:-1em;list-style-type:disc;">
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">一个新对象被创建。它继承自foo.prototype。</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">构造函数返回一个对象。在执行的时候，相应的传参会被传入，同时上下文(this)会被指定为这个新的实例。</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">new foo等同于new foo(), 只能用在不传递任何参数的情况</li>
<li style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;list-style-type:inherit;list-style-position:outside;">如果构造函数反悔了一个对象，那个这个对象会取代整个new出来的结果。如果构造函数没有返回对象，那个new出来的结果为步骤1创建的对象。</li>
</ul>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> 下面根据new的工作原理通过代码手动实现一下new运算符</p>
<div style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">
<pre style="font-weight:inherit;background-color:rgb(243, 242, 238);padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;vertical-align:baseline;font-family:Inconsolata;line-height:1.71429em;font-size:0.875em;width:auto;">var new2 = function (func) {
    var o = Object.create(func.prototype); 　　 //创建对象
    var k = func.call(o);　　　　　　　　　　　　　//改变this指向，把结果付给k
    if (typeof k === 'object') {　　　　　　　　　//判断k的类型是不是对象
        return k;　　　　　　　　　　　　　　　　　 //是，返回k
    } else {
        return o;　　　　　　　　　　　　　　　　　 //不是返回返回构造函数的执行结果
    }
}    </pre>
</div>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> 验证</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"> </p><div style="font-weight:inherit;display:block;margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;text-align:center;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1em;margin-top:1em;"><img src="004详谈JavaScript原型链_files/1265396-20171128090739003-1451557331.png" type="image/png" data-filename="1265396-20171128090739003-1451557331.png" height="348" style="font-weight:inherit;border-color:rgb(31, 9, 9);margin:0px;padding:0px;border:0px;font-style:inherit;font-variant:inherit;vertical-align:baseline;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;max-width:100%;display:block;" width="513"/></div><p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;"></p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">经过上图一系列折腾，不难看出，我们手动编写的new2和new运算符的作用是一样的。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">通过这个例子，你是不是已经熟知了new的工作原理了呢</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">最后，回到回到第一节创建对象的方法那里。</p>
<p style="font-stretch:inherit;margin:0px;border:0px;font-style:inherit;font-variant:inherit;font-weight:inherit;padding:0px;font-size:inherit;line-height:inherit;font-family:inherit;vertical-align:baseline;margin-bottom:1.5em;">几种创建对象方法的不同，了解了原型链和new之后，是不是此题的答案就出来了，这里我就不细说了，留给读者一些思考的时间。。。 </p>
<p style="font-weight:inherit;vertical-align:baseline;padding:0px;border:0px;font-style:inherit;font-variant:inherit;margin:0px;font-stretch:inherit;font-size:inherit;line-height:inherit;font-family:inherit;margin-bottom:0px;">觉得本文对你有帮助的话，点个赞再走吧</p></div></div></div><div style="font-variant:inherit;margin-bottom:1.5em;vertical-align:baseline;margin:0px;padding:0px;border:0px;font-style:inherit;font-family:inherit;font-weight:inherit;font-stretch:inherit;font-size:inherit;line-height:inherit;top:-1000px;left:-1000px;position:absolute;">Measure</div><div style="border:0px;vertical-align:baseline;font-family:inherit;font-size:inherit;font-stretch:inherit;margin:0px;padding:0px;font-weight:inherit;font-style:inherit;font-variant:inherit;position:absolute;line-height:1;left:-1000px;top:-1000px;margin-bottom:0px;">Measure</div></div></div></div></div></div></div></div>
</div>
</span>
</div></body></html> 